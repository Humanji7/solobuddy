# Context Signal Architecture — Исследование

Проблема: у LLM внутри SoloBuddy может быть "каша в голове" из-за смешивания сигналов из разных источников.

---

## Гипотеза

Когда Claude получает system prompt с данными из **5+ источников** одновременно:
- Git activity
- Session log
- Backlog
- Drafts
- Buddy message
- Projects list

...он не понимает **откуда идёт какой сигнал** и что с ним делать.

---

## Вопросы для анализа

1. **Структура vs Хаос**: как организовать контекст чтобы LLM понимал приоритеты?
2. **Хуки для сигналов**: нужны ли явные маркеры типа `[GIT_SIGNAL]`, `[USER_BACKLOG]`?
3. **Временная иерархия**: что важнее — "сегодня" или "на этой неделе"?
4. **Когнитивная нагрузка**: сколько сигналов одновременно может обработать?

---

## Задачи

1. **Проанализировать** текущий system prompt и найти точки смешивания
2. **Предложить архитектуру** сигналов с явной структурой
3. **Обсудить** варианты реализации (теги, секции, приоритеты)
4. **НЕ имплементировать** — только дизайн и план

---

## Контекст для агента

- Текущий prompt: [`hub/chat-api.js`](file:///Users/admin/projects/bip-buddy/hub/chat-api.js) → `buildSystemPrompt()`
- Сбор контекста: [`hub/server.js`](file:///Users/admin/projects/bip-buddy/hub/server.js) → `POST /api/chat`
