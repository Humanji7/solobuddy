# Handoff

> Контекст для следующей сессии. Читай перед началом работы.

---

## Текущее состояние

**Последний коммит:** `544bc4a` feat(settings): add Settings modal with tabs

**Сервер:** http://localhost:3000

**Что готово:**
- Settings Modal с 3 табами (Profile, Platforms, Projects)
- API `/api/settings` (GET/PUT)
- Кнопка ⚙️ в header

---

## Следующая задача: LLM Settings (Advanced)

**Цель:** Дать пользователю полный контроль над LLM — не просто UI настройки, а доступ "под капот".

### Что нужно добавить в Settings:

#### Tab 4: LLM Settings
1. **Параметры модели:**
   - Temperature (0.0 - 1.0)
   - Max tokens
   - Model selection (если несколько доступно)

2. **System Prompts (read/edit):**
   - **Hub Chat prompt** — что говорится AI когда пользователь пишет в главный чат
   - **Soul/Voice prompt** — что говорится AI когда пользователь разговаривает с проектом
   - Возможность редактировать эти промпты напрямую

3. **Preview режим:**
   - Показывать полный system prompt перед отправкой (debug mode)
   - Логировать что именно отправляется в API

### Архитектурные соображения:

- Промпты сейчас строятся в `prompt-builder.js`
- Нужно решить: хранить кастомные промпты в settings.json или отдельно?
- Возможно стоит сделать "Advanced" toggle чтобы не пугать обычных пользователей

### Философия:

> "Идеальная персонализация — когда человек может сам зайти и поковыряться"

Это не просто настройки — это прозрачность. Пользователь должен понимать что AI видит и как он думает.

---

## Также в очереди:

- **Polish UI:** Tab transitions, micro-interactions, dropdown меню
- **Тесты:** Пока 0 файлов (норм для текущей стадии)
- **docs/STACK.md:** Outdated после рефакторинга

---

*Updated: 2026-01-13*
