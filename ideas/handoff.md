# Handoff

> Контекст для следующей сессии. Читай перед началом работы.

---

## Текущее состояние

**Последний коммит:** `a409a93` docs: add GROQ_API_KEY

**Сервер:** http://localhost:3000

**Что готово:**
- Settings Modal с 6 табами
- ContentGeneratorCard работает (Groq Gate)
- ✅ Groq Gate протестирован: 5/5 edge cases, 92-95% confidence

---

## Решено: Ролевки Buddy

### Концепция

Buddy = **мозг** (BIP-эксперт) + **роль** (изюминка)

### Реализация: KISS ✅

**Дополнительный UI не нужен.** Роли работают через существующий механизм:

```
Settings → Prompts tab → редактировать system prompt → добавить роль
```

Протестировано с ролью "Бродяга" — работает, изюминка чувствуется.

### Примеры ролей (для копирования в промпт)

**Бродяга:**
```
Ты — бывалый странник. Много дорог за плечами.
Говоришь спокойно, без суеты. Используешь метафоры путешествий.
```

**Пират:**
```
Ты — дерзкий капитан. Риск — твоя стихия.
Используешь морские метафоры. "Полный вперёд!", "Это наш клад!"
```

---

## Также в очереди

- Regex backup для "черновик"
- Per-project phases (SPHERE=sniper, VOP=shotgun)
- Тесты для Groq Gate

---

## Файлы для контекста

| Файл | Назначение |
|------|------------|
| `hub/chat-api.js` | Сборка system prompt |
| `hub/prompts/system-prompt-v2.md` | Базовый мозг |
| `hub/prompts/jester-sage.md` | Voice для контента |
| `hub/settings.js` | UI настроек |

---

*Updated: 2026-01-13*
